<?xml encoding="utf-8" ?>
<Window Name="window" AllowsTransparency="False" Title="HQPlayer（Beta0.1.0）" ResizeMode="CanResize" WindowStyle="ThreeDBorderWindow" 
        CaptionHeight="20" Width="640" Height="380" MinWidth="380" MinHeight="300"
        BorderThickness="0" Background="#FF202020" Foreground="Gray" Topmost="True" >

    <Window.Resources>

        <ImageBrush x:Key="OpenNormal" ImageSource="HQPlayer/Images/Middle/openfile.png" Viewbox="0,0,25,25" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="OpenHot" ImageSource="HQPlayer/Images/Middle/openfile.png" Viewbox="25,0,25,25" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="OpenPress" ImageSource="HQPlayer/Images/Middle/openfile.png" Viewbox="50,0,25,25" ViewboxUnits="Absolute" />
        
        <ImageBrush x:Key="PlayNormal" ImageSource="HQPlayer/Images/Ctrl/play.png" Viewbox="0,0,38,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="PlayHot" ImageSource="HQPlayer/Images/Ctrl/play.png" Viewbox="38,0,38,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="PlayPress" ImageSource="HQPlayer/Images/Ctrl/play.png" Viewbox="76,0,38,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="PlayEnabled" ImageSource="HQPlayer/Images/Ctrl/play.png" Viewbox="114,0,38,44" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="PauseNormal" ImageSource="HQPlayer/Images/Ctrl/pause.png" Viewbox="0,0,38,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="PauseHot" ImageSource="HQPlayer/Images/Ctrl/pause.png" Viewbox="38,0,38,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="PausePress" ImageSource="HQPlayer/Images/Ctrl/pause.png" Viewbox="76,0,38,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="PauseEnabled" ImageSource="HQPlayer/Images/Ctrl/pause.png" Viewbox="114,0,38,44" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="StopNormal" ImageSource="HQPlayer/Images/Ctrl/stop.png" Viewbox="0,0,22,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="StopHot" ImageSource="HQPlayer/Images/Ctrl/stop.png" Viewbox="22,0,22,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="StopPress" ImageSource="HQPlayer/Images/Ctrl/stop.png" Viewbox="44,0,22,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="StopEnabled" ImageSource="HQPlayer/Images/Ctrl/stop.png" Viewbox="66,0,22,44" ViewboxUnits="Absolute" />
        
        <ImageBrush x:Key="SettingNormal" ImageSource="HQPlayer/Images/Ctrl/setting.png" Viewbox="0,0,26,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="SettingHot" ImageSource="HQPlayer/Images/Ctrl/setting.png" Viewbox="26,0,26,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="SettingPress" ImageSource="HQPlayer/Images/Ctrl/setting.png" Viewbox="52,0,26,44" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="FullNormal" ImageSource="HQPlayer/Images/Ctrl/full.png" Viewbox="0,0,24,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="FullHot" ImageSource="HQPlayer/Images/Ctrl/full.png" Viewbox="24,0,24,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="FullPress" ImageSource="HQPlayer/Images/Ctrl/full.png" Viewbox="48,0,24,44" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="PrevNormal" ImageSource="HQPlayer/Images/Ctrl/prev.png" Viewbox="0,0,22,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="PrevHot" ImageSource="HQPlayer/Images/Ctrl/prev.png" Viewbox="22,0,22,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="PrevPress" ImageSource="HQPlayer/Images/Ctrl/prev.png" Viewbox="44,0,22,44" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="NextNormal" ImageSource="HQPlayer/Images/Ctrl/next.png" Viewbox="0,0,22,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="NextHot" ImageSource="HQPlayer/Images/Ctrl/next.png" Viewbox="22,0,22,44" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="NextPress" ImageSource="HQPlayer/Images/Ctrl/next.png" Viewbox="44,0,22,44" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="MiniPlayNormal" ImageSource="HQPlayer/Images/Top/mini_player.png" Viewbox="0,0,22,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="MiniPlayHot" ImageSource="HQPlayer/Images/Top/mini_player.png" Viewbox="22,0,22,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="MiniPlayPress" ImageSource="HQPlayer/Images/Top/mini_player.png" Viewbox="44,0,22,21" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="sysbtn_min_normal" ImageSource="HQPlayer/Images/Top/minimize.png" Viewbox="0,0,17,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="sysbtn_min_hover" ImageSource="HQPlayer/Images/Top/minimize.png" Viewbox="17,0,17,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="sysbtn_min_down" ImageSource="HQPlayer/Images/Top/minimize.png" Viewbox="34,0,17,21" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="sysbtn_close_normal" ImageSource="HQPlayer/Images/Top/close.png" Viewbox="0,0,17,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="sysbtn_close_hover" ImageSource="HQPlayer/Images/Top/close.png" Viewbox="17,0,17,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="sysbtn_close_down" ImageSource="HQPlayer/Images/Top/close.png" Viewbox="34,0,17,21" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="sysbtn_restore_normal" ImageSource="HQPlayer/Images/Top/restore.png" Viewbox="0,0,19,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="sysbtn_restore_hover" ImageSource="HQPlayer/Images/Top/restore.png" Viewbox="19,0,19,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="sysbtn_restore_down" ImageSource="HQPlayer/Images/Top/restore.png" Viewbox="38,0,19,21" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="sysbtn_max_normal" ImageSource="HQPlayer/Images/Top/maximize.png" Viewbox="0,0,19,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="sysbtn_max_hover" ImageSource="HQPlayer/Images/Top/maximize.png" Viewbox="19,0,19,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="sysbtn_max_down" ImageSource="HQPlayer/Images/Top/maximize.png" Viewbox="38,0,19,21" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="TopmostNormal" ImageSource="HQPlayer/Images/Top/topmost.png" Viewbox="0,0,20,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="TopmostHot" ImageSource="HQPlayer/Images/Top/topmost.png" Viewbox="20,0,20,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="TopmostPress" ImageSource="HQPlayer/Images/Top/topmost.png" Viewbox="40,0,20,21" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="UntopmostNormal" ImageSource="HQPlayer/Images/Top/untopmost.png" Viewbox="0,0,20,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="UntopmostHot" ImageSource="HQPlayer/Images/Top/untopmost.png" Viewbox="20,0,20,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="UntopmostPress" ImageSource="HQPlayer/Images/Top/untopmost.png" Viewbox="40,0,20,21" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="BrowserNormal" ImageSource="HQPlayer/Images/third_player/browser.png" Viewbox="0,0,20,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="BrowserHot" ImageSource="HQPlayer/Images/third_player/browser.png" Viewbox="20,0,20,21" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="BrowserPress" ImageSource="HQPlayer/Images/third_player/browser.png" Viewbox="40,0,20,21" ViewboxUnits="Absolute" />
        
        <!--ProgressBar皮肤资源定义-->        
        <ImageBrush x:Key="pbTrackBackground" ImageSource="HQPlayer/Images/Ctrl/slider_bk.png" />
        <ImageBrush x:Key="pbTrackForeground" ImageSource="HQPlayer/Images/Ctrl/play_slider.png" />

        <ImageBrush x:Key="pbvTrackBackground" ImageSource="HQPlayer/Images/Ctrl/volume_bg.png" />
        <ImageBrush x:Key="pbvTrackForeground" ImageSource="HQPlayer/Images/Ctrl/volume_now.png" />

        <ImageBrush x:Key="VolumeOpenNormal" ImageSource="HQPlayer/Images/Ctrl/voice_normal.png" Opacity="0.8" Viewbox="0,0,21,12" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="VolumeOpenHot" ImageSource="HQPlayer/Images/Ctrl/voice_normal.png" Viewbox="0,0,21,12" ViewboxUnits="Absolute" />
        
        <ImageBrush x:Key="VolumeCloseNormal" ImageSource="HQPlayer/Images/Ctrl/voice_mute.png" Opacity="0.8" Viewbox="0,0,20,12" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="VolumeCloseHot" ImageSource="HQPlayer/Images/Ctrl/voice_mute.png" Viewbox="0,0,20,12" ViewboxUnits="Absolute" />

        <ImageBrush x:Key="VolumeButtonNormal" ImageSource="HQPlayer/Images/Ctrl/volume_button.png" Viewbox="0,0,13,13" ViewboxUnits="Absolute" />
        <ImageBrush x:Key="VolumeButtonHot" ImageSource="HQPlayer/Images/Ctrl/volume_button.png" Viewbox="13,0,13,13" ViewboxUnits="Absolute" />

        <SolidColorBrush x:Key="listBoxItemHot" Color="#99444444" />
        <SolidColorBrush x:Key="listBoxItemSelected" Color="#99555555" />

        <Style TargetType="Button" x:Key="ButtonStyle" >
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Name="btnCnt" Background="{TemplateBinding Tag1}" />
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" TargetName="btnCnt" Value="{TemplateBinding Tag3}" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" TargetName="btnCnt" Value="{TemplateBinding Tag2}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="CloseButton" >
            <Setter Property="Background" Value="{DynamicResource sysbtn_close_normal}" />
            <Setter Property="Template" >
                <Setter.Value>
                    <ControlTemplate TargetType="CloseButton">
                        <Border Background="{TemplateBinding Background}" >
                            <ContentPresenter ToolTip="{TemplateBinding ToolTip}" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Style.Triggers>
                <Trigger Property="IsPressed" Value="True" >
                    <Setter Property="Background" Value="{DynamicResource sysbtn_close_down}" />
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True" >
                    <Setter Property="Background" Value="{DynamicResource sysbtn_close_hover}" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="MinimizeButton">
            <Setter Property="Background" Value="{DynamicResource sysbtn_min_normal}" />
            <Setter Property="Template" >
                <Setter.Value>
                    <ControlTemplate TargetType="MinimizeButton">
                        <Border Background="{TemplateBinding Background}" >
                            <ContentPresenter ToolTip="{TemplateBinding ToolTip}" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Style.Triggers>
                <Trigger Property="IsPressed" Value="True" >
                    <Setter Property="Background" Value="{DynamicResource sysbtn_min_down}" />
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True" >
                    <Setter Property="Background" Value="{DynamicResource sysbtn_min_hover}" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="MaximizeButton">
            <Setter Property="Background" Value="{DynamicResource sysbtn_max_normal}" />
            <Setter Property="ToolTip" Value="最大化" />
            <Setter Property="Template" >
                <Setter.Value>
                    <ControlTemplate TargetType="MaximizeButton">
                        <Border Background="{TemplateBinding Background}" >
                            <ContentPresenter ToolTip="{TemplateBinding ToolTip}" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Style.Triggers>

                <MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="WindowState" Value="Maximized" />
                        <Condition Property="IsMouseOver" Value="True" />
                    </MultiTrigger.Conditions>
                    <Setter Property="ToolTip" Value="向下还原" />
                    <Setter Property="Background" Value="{DynamicResource sysbtn_restore_hover}" />
                </MultiTrigger>

                <MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="WindowState" Value="Maximized" />
                        <Condition Property="IsPressed" Value="True" />
                    </MultiTrigger.Conditions>
                    <Setter Property="Background" Value="{DynamicResource sysbtn_restore_down}" />
                </MultiTrigger>

                <Trigger Property="WindowState" Value="Maximized" >
                    <Setter Property="Background" Value="{DynamicResource sysbtn_restore_normal}" />
                </Trigger>

                <Trigger Property="IsPressed" Value="True" >
                    <Setter Property="Background" Value="{DynamicResource sysbtn_max_down}" />
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True" >
                    <Setter Property="Background" Value="{DynamicResource sysbtn_max_hover}" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="ProgressBar">
            <Setter Property="Background" Value="{DynamicResource pbTrackBackground}" />
            <Setter Property="Foreground" Value="{DynamicResource pbTrackForeground}" />
            <Setter Property="Template" >
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Border Name="PART_Track" Background="{TemplateBinding TemplateBinding}" BorderThickness="{TemplateBinding BorderThickness}"
                                BorderBrush="{TemplateBinding BorderBrush}" Padding="{TemplateBinding Padding}" >
                            <Rectangle Fill="{TemplateBinding Foreground}" Name="PART_Indicator" HorizontalAlignment="Left" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="ProgressBar" x:Key="VolumeProgressStyle" >
            <Setter Property="Background" Value="{DynamicResource pbvTrackBackground}" />
            <Setter Property="Foreground" Value="{DynamicResource pbvTrackForeground}" />
            <Setter Property="Template" >
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Border Name="PART_Track" Background="{TemplateBinding TemplateBinding}" BorderThickness="{TemplateBinding BorderThickness}"
                                BorderBrush="{TemplateBinding BorderBrush}" Padding="{TemplateBinding Padding}" >
                            <Rectangle Fill="{TemplateBinding Foreground}" Name="PART_Indicator" HorizontalAlignment="Left" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="HorizontalSliderThumbStyle" TargetType="Thumb">
            <Setter Property="Background" Value="{StaticResource VolumeButtonNormal}" />
            <Setter Property="Width" Value="13" />
            <Setter Property="Height" Value="13" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Thumb">
                        <Rectangle Fill="{TemplateBinding Background}" />
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource VolumeButtonHot}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SliderRepeatButtonStyle" TargetType="RepeatButton">
            <Setter Property="Background" Value="{StaticResource pbvTrackForeground}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Thumb">
                        <Rectangle Fill="{TemplateBinding Background}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SliderIncreaseRepeatButtonStyle" TargetType="RepeatButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Thumb">
                        <Rectangle />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type Slider}" x:Key="VolumeSliderStyle" >
            <Setter Property="Background" Value="{StaticResource pbvTrackBackground}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Slider}">
                        <Border Background="{TemplateBinding Background}" Height="44" >
                            <Track x:Name="PART_Track" >
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="{x:Static Slider.DecreaseLarge}" Style="{StaticResource SliderRepeatButtonStyle}"/>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Style="{StaticResource SliderIncreaseRepeatButtonStyle}"/>
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb x:Name="Thumb" Style="{StaticResource HorizontalSliderThumbStyle}"/>
                                </Track.Thumb>
                            </Track>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="HorizontalPBSliderThumbStyle" TargetType="Thumb">
            <Setter Property="Background" Value="{StaticResource VolumeButtonNormal}" />
            <Setter Property="Width" Value="4" />
            <Setter Property="Height" Value="4" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Thumb">
                        <Rectangle Fill="{TemplateBinding Background}" />
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource VolumeButtonHot}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="PBSliderRepeatButtonStyle" TargetType="RepeatButton">
            <Setter Property="Background" Value="{StaticResource pbTrackForeground}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Thumb">
                        <Rectangle Fill="{TemplateBinding Background}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style TargetType="{x:Type Slider}" x:Key="PBSliderStyle" >
            <Setter Property="Background" Value="{StaticResource pbTrackBackground}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Slider}">
                        <Border Background="{TemplateBinding Background}" Height="4" Cursor="Hand" >
                            <Track x:Name="PART_Track" >
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="{x:Static Slider.DecreaseLarge}" Style="{StaticResource PBSliderRepeatButtonStyle}"/>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Style="{StaticResource SliderIncreaseRepeatButtonStyle}"/>
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb x:Name="Thumb" Style1="{StaticResource HorizontalPBSliderThumbStyle}"/>
                                </Track.Thumb>
                            </Track>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--多选按钮样式定义-->
        <Style TargetType="CheckBox" x:Key="TopmostStyle">
            <Setter Property="ToolTip" Value="置顶" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Background" Value="{DynamicResource TopmostNormal}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox" >
                        <Border Name="Bd" Background="{TemplateBinding Background}" />
                        <ControlTemplate.Triggers>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsChecked" Value="True"/>
                                    <Condition Property="IsMouseOver" Value="True"/>
                                </MultiTrigger.Conditions>
                                <Setter Property="ToolTip" Value="取消置顶" />
                                <Setter Property="Background" Value="{DynamicResource UntopmostHot}" />
                            </MultiTrigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Background" Value="{DynamicResource UntopmostNormal}" />
                                <Setter Property="ToolTip" Value="取消置顶" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="IsChecked" Value="False"/>
                        <Condition Property="IsMouseOver" Value="True"/>
                    </MultiTrigger.Conditions>
                    <Setter Property="Background" Value="{DynamicResource TopmostHot}" />
                </MultiTrigger>
            </Style.Triggers>
        </Style>
        
    </Window.Resources>

    <Grid Margin="0" Name="RootGrid" >
        <DockPanel >
            <!--标题栏-->
            <DockPanel Name="layCaption" VerticalAlignment="Top" Height="32" DockPanel.Dock="Top" >
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" VerticalAlignment="Center" >
                    <MinimizeButton ToolTip="最小化" Focusable="False" Width="17" Height="21" VerticalAlignment="Top" Margin="5,0,9,0" />
                    <MaximizeButton Focusable="False" Width="19" Height="21" VerticalAlignment="Top" Margin="5,0,8,0" />
                    <CloseButton ToolTip="关闭" Width="17" Height="21" VerticalAlignment="Top" Margin="5,0,6,0" />
                </StackPanel>
                <StackPanel VerticalAlignment="Center" Height="32" Orientation="Horizontal" DockPanel.Dock="Right" Margin="5,0,6,0" >
                    <CheckBox IsChecked="{Binding Topmost,Mode=TwoWay,RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type Window}, AncestorLevel=1}}" 
                              Width="20" Height="21" Style="{DynamicResource TopmostStyle}" />
                    <Button1 Name="miniStop" Width="22" Height="21" Margin="2" Click="OnClickMiniPlayButton"
                                ToolTip="精简模式"
                                Tag1="{DynamicResource MiniPlayNormal}"
                                Tag2="{DynamicResource MiniPlayHot}"
                                Tag3="{DynamicResource MiniPlayPress}"
                                Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />
                </StackPanel>
                <TextBlock Text="{Binding Title,RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type Window}, AncestorLevel=1}}"
                           Foreground="Gray" FontSize="11" Margin="4" VerticalAlignment="Center"/>
            </DockPanel>

            <DockPanel Name="layPlayer">
                <DockPanel Name="rightPanel" Width="180" DockPanel.Dock="Right" Margin="0,0,-180,0" >
                    <DockPanel DockPanel.Dock="Bottom" Background="#FF111111" MinHeight="60" >

                    </DockPanel>
                    <ListBox Name="playList" MouseDoubleClick="OnDblPlayListClick" Background="#FF121212" BorderThickness="0" />
                </DockPanel>
                <Grid Name="layPlayer" />
            </DockPanel>
        </DockPanel>

        <DockPanel Name="layBottom" Margin="0,0,0,0" Height="52" VerticalAlignment="Bottom" Background="#99111111" >
            <Grid Margin="0,0,0,0" DockPanel.Dock="Top">
                <Slider Name="playPB" Style="{DynamicResource PBSliderStyle}"
                        HorizontalAlignment="Stretch"
                        IsSelectionRangeEnabled="False" IsMoveToPointEnabled="True"
                        Height="4" Value="1" Maximum="100" />
            </Grid>
            <DockPanel>
                <Grid Margin="2" >
                    <Button Name="btnPlay" Width="38" Height="44" Click="OnClickButton" IsEnabled="False"
                        ToolTip="播放"
                        Tag1="{DynamicResource PlayNormal}"
                        Tag2="{DynamicResource PlayHot}"
                        Tag3="{DynamicResource PlayPress}"
                        Tag4="{DynamicResource PlayEnabled}"
                        Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />
                    <Button Name="btnPause" Width="38" Height="44" Click="OnClickButton" IsEnabled="False"
                        Visibility="Hidden"
                        ToolTip="暂停"
                        Tag1="{DynamicResource PauseNormal}"
                        Tag2="{DynamicResource PauseHot}"
                        Tag3="{DynamicResource PausePress}"
                        Tag4="{DynamicResource PauseEnabled}"
                        Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />
                </Grid>

                <Button Name="btnStop" Width="22" Height="44" Margin="2" Click="OnClickStopButton" IsEnabled="False"
                        ToolTip="停止"
                        Tag1="{DynamicResource StopNormal}"
                        Tag2="{DynamicResource StopHot}"
                        Tag3="{DynamicResource StopPress}"
                        Tag4="{DynamicResource StopEnabled}"
                        Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />

                <Button Name="prevStop" Width="22" Height="44" Margin="2" Click="OnClickPrevButton"
                        ToolTip="上一个"
                        Tag1="{DynamicResource PrevNormal}"
                        Tag2="{DynamicResource PrevHot}"
                        Tag3="{DynamicResource PrevPress}"
                        Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />


                <Button Name="nextStop" Width="22" Height="44" Margin="2" Click="OnClickNextButton"
                        ToolTip="下一个"
                        Tag1="{DynamicResource NextNormal}"
                        Tag2="{DynamicResource NextHot}"
                        Tag3="{DynamicResource NextPress}"
                        Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />


                <StackPanel Orientation="Horizontal" Margin="2,5,2,2" VerticalAlignment="Center" >
                    <TextBlock Name="curDuration" Text="00:00:00" />
                    <TextBlock Text="/" />
                    <TextBlock Name="duration" Text="00:00:00" />
                </StackPanel>

                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" FlowDirection="RightToLeft">

                    <Button Name="btnFull" Width="20" Height="21" Margin="3,2,3,2" Click="OnClickBrowserButton" ToolTip="播放列表"
                        Tag1="{DynamicResource BrowserNormal}"
                        Tag2="{DynamicResource BrowserHot}"
                        Tag3="{DynamicResource BrowserPress}"
                        Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />

                    <Button Name="btnFull" Width="24" Height="44" Margin="2" Click="OnClickFullButton" ToolTip="全屏显示"
                        Tag1="{DynamicResource FullNormal}"
                        Tag2="{DynamicResource FullHot}"
                        Tag3="{DynamicResource FullPress}"
                        Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />

                    <Button Name="btnSet" Width="26" Height="44" Margin="2" Click="OnClickSettingButton" ToolTip="设置"
                        Tag1="{DynamicResource SettingNormal}"
                        Tag2="{DynamicResource SettingHot}"
                        Tag3="{DynamicResource SettingPress}"
                        Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />

                    <Button Name="btnOpen" Width="25" Height="25" Click="OnClickOpenButton" Margin="10,0,8,0"
                            ToolTip="打开视频" Cursor="Hand"
                            Tag1="{DynamicResource OpenNormal}"
                            Tag2="{DynamicResource OpenHot}"
                            Tag3="{DynamicResource OpenPress}"
                            Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />

                    <Grid Width="79" Height="44" >
                        <Slider Name="volumeSlider" Style="{DynamicResource VolumeSliderStyle}"
                                IsSelectionRangeEnabled="False" IsMoveToPointEnabled="True"
                                Cursor="Hand" Width="79" Height="44" Value="1" Maximum="128" />
                    </Grid>

                    <Grid Width="24" Height="44" Margin="3,0,10,0">
                        <Button Name="closeVolume" Width="21" Height="12" Cursor="Hand"
                                Click="OnClickCloseVolume"
                                Tag1="{DynamicResource VolumeOpenNormal}"
                                Tag2="{DynamicResource VolumeOpenHot}"
                                Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />

                        <Button Name="openVolume" Width="20" Height="12" Cursor="Hand" Visibility="Hidden"
                                Click="OnClickOpenVolume"
                                Tag1="{DynamicResource VolumeCloseNormal}"
                                Tag2="{DynamicResource VolumeCloseHot}"
                                Style="{DynamicResource ButtonStyle}" VerticalAlignment="Center" />
                    </Grid>
                </StackPanel>
            </DockPanel>
        </DockPanel>
		<ResizeGrip VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="8" Height="8" />
    </Grid>
</Window>
